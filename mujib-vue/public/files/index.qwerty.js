import{d as e,S as t,i as l,s as n,e as r,a as s,g as i,t as o,c as a,b as c,f as h,h as u,j as f,k as d,l as p,n as m,m as g,o as $,p as v,q as w,r as b,u as k,v as y,L as E,w as x,x as S,y as q,z as _,A,H as I,B,C as L,D as M,E as N,_ as j,F as C,G as K,I as R,J as D,K as T,M as V,N as U,O as z,P as O,Q as H,R as G,T as W,U as P,V as Q,W as J}from"./vendor.4fc7ede6.js";var F={en:{name:"English (en.db)",dev:"http://localhost:8080/en.db",production:"https://s3.us-east-2.wasabisys.com/static.wiki/en.db"},zh:{name:"Chinese (zh.db)",dev:"http://localhost:8080/zh.db",production:"https://s3.us-east-2.wasabisys.com/static.wiki/zh.db"},fr:{name:"France (fr.db)",dev:"http://localhost:8080/fr.db",production:"https://s3.us-east-2.wasabisys.com/static.wiki/fr.db"},simple:{name:"Simple (simple.db)",dev:"http://localhost:8080/simple.db",production:"https://s3.us-east-2.wasabisys.com/static.wiki/simple.db",articleSearchIndex:!0},enwikiquote:{name:"Wikiquote (enwikiquote.db)",dev:"http://localhost:8080/enwikiquote.db",production:"https://s3.us-east-2.wasabisys.com/static.wiki/enwikiquote.db"}};function Y(e){let t;return{c(){t=f(e[1])},l(l){t=d(l,e[1])},m(e,l){s(e,t,l)},p(e,l){2&l&&p(t,e[1])},i:m,o:m,d(e){e&&h(t)}}}function X(e){let t,l;const n=e[6].default,r=g(n,e,e[5],null);return{c(){t=$("h6"),r&&r.c(),this.h()},l(e){t=v(e,"H6",{id:!0});var l=w(t);r&&r.l(l),l.forEach(h),this.h()},h(){b(t,"id",e[3])},m(n,i){s(n,t,i),r&&r.m(t,null),e[11](t),l=!0},p(e,s){r&&r.p&&(!l||32&s)&&k(r,n,e,e[5],l?s:-1,null,null),(!l||8&s)&&b(t,"id",e[3])},i(e){l||(c(r,e),l=!0)},o(e){o(r,e),l=!1},d(l){l&&h(t),r&&r.d(l),e[11](null)}}}function Z(e){let t,l;const n=e[6].default,r=g(n,e,e[5],null);return{c(){t=$("h5"),r&&r.c(),this.h()},l(e){t=v(e,"H5",{id:!0});var l=w(t);r&&r.l(l),l.forEach(h),this.h()},h(){b(t,"id",e[3])},m(n,i){s(n,t,i),r&&r.m(t,null),e[10](t),l=!0},p(e,s){r&&r.p&&(!l||32&s)&&k(r,n,e,e[5],l?s:-1,null,null),(!l||8&s)&&b(t,"id",e[3])},i(e){l||(c(r,e),l=!0)},o(e){o(r,e),l=!1},d(l){l&&h(t),r&&r.d(l),e[10](null)}}}function ee(e){let t,l;const n=e[6].default,r=g(n,e,e[5],null);return{c(){t=$("h4"),r&&r.c(),this.h()},l(e){t=v(e,"H4",{id:!0});var l=w(t);r&&r.l(l),l.forEach(h),this.h()},h(){b(t,"id",e[3])},m(n,i){s(n,t,i),r&&r.m(t,null),e[9](t),l=!0},p(e,s){r&&r.p&&(!l||32&s)&&k(r,n,e,e[5],l?s:-1,null,null),(!l||8&s)&&b(t,"id",e[3])},i(e){l||(c(r,e),l=!0)},o(e){o(r,e),l=!1},d(l){l&&h(t),r&&r.d(l),e[9](null)}}}function te(e){let t,l;const n=e[6].default,r=g(n,e,e[5],null);return{c(){t=$("h3"),r&&r.c(),this.h()},l(e){t=v(e,"H3",{id:!0});var l=w(t);r&&r.l(l),l.forEach(h),this.h()},h(){b(t,"id",e[3])},m(n,i){s(n,t,i),r&&r.m(t,null),e[8](t),l=!0},p(e,s){r&&r.p&&(!l||32&s)&&k(r,n,e,e[5],l?s:-1,null,null),(!l||8&s)&&b(t,"id",e[3])},i(e){l||(c(r,e),l=!0)},o(e){o(r,e),l=!1},d(l){l&&h(t),r&&r.d(l),e[8](null)}}}function le(e){let t,l,n,r;const i=e[6].default,a=g(i,e,e[5],null);return{c(){t=$("h2"),a&&a.c(),this.h()},l(e){t=v(e,"H2",{id:!0,class:!0});var l=w(t);a&&a.l(l),l.forEach(h),this.h()},h(){b(t,"id",e[3]),b(t,"class","svelte-13e8sj1")},m(i,o){s(i,t,o),a&&a.m(t,null),e[7](t),l=!0,n||(r=y(t,"click",e[4]),n=!0)},p(e,n){a&&a.p&&(!l||32&n)&&k(a,i,e,e[5],l?n:-1,null,null),(!l||8&n)&&b(t,"id",e[3])},i(e){l||(c(a,e),l=!0)},o(e){o(a,e),l=!1},d(l){l&&h(t),a&&a.d(l),e[7](null),n=!1,r()}}}function ne(e){let t,l;const n=e[6].default,r=g(n,e,e[5],null);return{c(){t=$("h1"),r&&r.c()},l(e){t=v(e,"H1",{});var l=w(t);r&&r.l(l),l.forEach(h)},m(e,n){s(e,t,n),r&&r.m(t,null),l=!0},p(e,t){r&&r.p&&(!l||32&t)&&k(r,n,e,e[5],l?t:-1,null,null)},i(e){l||(c(r,e),l=!0)},o(e){o(r,e),l=!1},d(e){e&&h(t),r&&r.d(e)}}}function re(e){let t,l,n,u;const f=[ne,le,te,ee,Z,X,Y],d=[];function p(e,t){return 1===e[0]?0:2===e[0]?1:3===e[0]?2:4===e[0]?3:5===e[0]?4:6===e[0]?5:6}return t=p(e),l=d[t]=f[t](e),{c(){l.c(),n=r()},l(e){l.l(e),n=r()},m(e,l){d[t].m(e,l),s(e,n,l),u=!0},p(e,[r]){let s=t;t=p(e),t===s?d[t].p(e,r):(i(),o(d[s],1,1,(()=>{d[s]=null})),a(),l=d[t],l?l.p(e,r):(l=d[t]=f[t](e),l.c()),c(l,1),l.m(n.parentNode,n))},i(e){u||(c(l),u=!0)},o(e){o(l),u=!1},d(e){d[t].d(e),e&&h(n)}}}function se(e,t,l){let n,{$$slots:r={},$$scope:s}=t,{depth:i}=t,{raw:o}=t,a={};return e.$$set=e=>{"depth"in e&&l(0,i=e.depth),"raw"in e&&l(1,o=e.raw),"$$scope"in e&&l(5,s=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&l(3,n=a.textContent&&a.textContent.split(" ").join("_"))},[i,o,a,n,e=>{let t=e.target;for(t.classList.toggle("open"),t=t.nextElementSibling;t&&"H2"!==t.tagName;)t.classList.toggle("closed-on-mobile"),t=t.nextElementSibling},s,r,function(e){u[e?"unshift":"push"]((()=>{a=e,l(2,a)}))},function(e){u[e?"unshift":"push"]((()=>{a=e,l(2,a)}))},function(e){u[e?"unshift":"push"]((()=>{a=e,l(2,a)}))},function(e){u[e?"unshift":"push"]((()=>{a=e,l(2,a)}))},function(e){u[e?"unshift":"push"]((()=>{a=e,l(2,a)}))}]}class ie extends t{constructor(e){super(),l(this,e,se,re,n,{depth:0,raw:1})}}function oe(e){let t,l;return t=new E({props:{to:"/"+e[2]+"/"+e[0],title:e[1],$$slots:{default:[ce]},$$scope:{ctx:e}}}),{c(){x(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){q(t,e,n),l=!0},p(e,l){const n={};1&l&&(n.to="/"+e[2]+"/"+e[0]),2&l&&(n.title=e[1]),16&l&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){l||(c(t.$$.fragment,e),l=!0)},o(e){o(t.$$.fragment,e),l=!1},d(e){_(t,e)}}}function ae(e){let t,l,n,u,f;const d=[ue,he],p=[];function m(e,l){return 1&l&&(t=!!e[0].match(pe)),t?0:1}return l=m(e,-1),n=p[l]=d[l](e),{c(){n.c(),u=r()},l(e){n.l(e),u=r()},m(e,t){p[l].m(e,t),s(e,u,t),f=!0},p(e,t){let r=l;l=m(e,t),l===r?p[l].p(e,t):(i(),o(p[r],1,1,(()=>{p[r]=null})),a(),n=p[l],n?n.p(e,t):(n=p[l]=d[l](e),n.c()),c(n,1),n.m(u.parentNode,u))},i(e){f||(c(n),f=!0)},o(e){o(n),f=!1},d(e){p[l].d(e),e&&h(u)}}}function ce(e){let t;const l=e[3].default,n=g(l,e,e[4],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,l){n&&n.m(e,l),t=!0},p(e,r){n&&n.p&&(!t||16&r)&&k(n,l,e,e[4],t?r:-1,null,null)},i(e){t||(c(n,e),t=!0)},o(e){o(n,e),t=!1},d(e){n&&n.d(e)}}}function he(e){let t,l;const n=e[3].default,r=g(n,e,e[4],null);return{c(){t=$("a"),r&&r.c(),this.h()},l(e){t=v(e,"A",{href:!0,target:!0,title:!0,class:!0});var l=w(t);r&&r.l(l),l.forEach(h),this.h()},h(){b(t,"href",e[0]),b(t,"target","_blank"),b(t,"title",e[1]),b(t,"class","external svelte-jcmbfp")},m(e,n){s(e,t,n),r&&r.m(t,null),l=!0},p(e,s){r&&r.p&&(!l||16&s)&&k(r,n,e,e[4],l?s:-1,null,null),(!l||1&s)&&b(t,"href",e[0]),(!l||2&s)&&b(t,"title",e[1])},i(e){l||(c(r,e),l=!0)},o(e){o(r,e),l=!1},d(e){e&&h(t),r&&r.d(e)}}}function ue(e){let t,l;return t=new E({props:{to:e[0].match(pe)[1].replace(".","")+"/"+e[0].match(pe)[2],title:e[1],$$slots:{default:[fe]},$$scope:{ctx:e}}}),{c(){x(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){q(t,e,n),l=!0},p(e,l){const n={};1&l&&(n.to=e[0].match(pe)[1].replace(".","")+"/"+e[0].match(pe)[2]),2&l&&(n.title=e[1]),16&l&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){l||(c(t.$$.fragment,e),l=!0)},o(e){o(t.$$.fragment,e),l=!1},d(e){_(t,e)}}}function fe(e){let t;const l=e[3].default,n=g(l,e,e[4],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,l){n&&n.m(e,l),t=!0},p(e,r){n&&n.p&&(!t||16&r)&&k(n,l,e,e[4],t?r:-1,null,null)},i(e){t||(c(n,e),t=!0)},o(e){o(n,e),t=!1},d(e){n&&n.d(e)}}}function de(e){let t,l,n,u,f;const d=[ae,oe],p=[];function m(e,l){return 1&l&&(t=!(!e[0].includes("www.")&&!e[0].includes("http://"))),t?0:1}return l=m(e,-1),n=p[l]=d[l](e),{c(){n.c(),u=r()},l(e){n.l(e),u=r()},m(e,t){p[l].m(e,t),s(e,u,t),f=!0},p(e,[t]){let r=l;l=m(e,t),l===r?p[l].p(e,t):(i(),o(p[r],1,1,(()=>{p[r]=null})),a(),n=p[l],n?n.p(e,t):(n=p[l]=d[l](e),n.c()),c(n,1),n.m(u.parentNode,u))},i(e){f||(c(n),f=!0)},o(e){o(n),f=!1},d(e){p[l].d(e),e&&h(u)}}}let pe=/https?:\/\/(.*)\.wikipedia\.org\/wiki\/(.*)/;function me(e,t,l){let{$$slots:n={},$$scope:r}=t,{href:s=""}=t,{title:i}=t,o=window.location.pathname.split("/")[1];return e.$$set=e=>{"href"in e&&l(0,s=e.href),"title"in e&&l(1,i=e.title),"$$scope"in e&&l(4,r=e.$$scope)},[s,i,o,n,r]}class ge extends t{constructor(e){super(),l(this,e,me,de,n,{href:0,title:1})}}function $e(e){let t,l;return{c(){t=new I,l=r(),this.h()},l(e){t=A(e),l=r(),this.h()},h(){t.a=l},m(n,r){t.m(e[0],n,r),s(n,l,r)},p(e,[l]){1&l&&t.p(e[0])},i:m,o:m,d(e){e&&h(l),e&&t.d()}}}function ve(e,t,l){let{text:n}=t;return e.$$set=e=>{"text"in e&&l(0,n=e.text)},[n]}class we extends t{constructor(e){super(),l(this,e,ve,$e,n,{text:0})}}function be(e){let t,l,n,r,i,a,u;return a=new B({props:{source:e[3],renderers:{link:ge}}}),{c(){t=$("div"),l=$("img"),r=L(),i=$("caption"),x(a.$$.fragment),this.h()},l(e){t=v(e,"DIV",{class:!0});var n=w(t);l=v(n,"IMG",{src:!0,title:!0,alt:!0,class:!0}),r=M(n),i=v(n,"CAPTION",{class:!0});var s=w(i);S(a.$$.fragment,s),s.forEach(h),n.forEach(h),this.h()},h(){l.src!==(n=e[0])&&b(l,"src",n),b(l,"title",e[1]),b(l,"alt",e[2]),b(l,"class","svelte-za6bc3"),b(i,"class","svelte-za6bc3"),b(t,"class","svelte-za6bc3")},m(e,n){s(e,t,n),N(t,l),N(t,r),N(t,i),q(a,i,null),u=!0},p(e,[t]){(!u||1&t&&l.src!==(n=e[0]))&&b(l,"src",n),(!u||2&t)&&b(l,"title",e[1])},i(e){u||(c(a.$$.fragment,e),u=!0)},o(e){o(a.$$.fragment,e),u=!1},d(e){e&&h(t),_(a)}}}function ke(e,t,l){let{href:n=""}=t,{title:r}=t,{text:s=""}=t,i=s.split("|||")[0],o=s.split("|||")[1]&&j(s.split("|||")[1].replace(/\\/g,"").replace("&#39;",""));return e.$$set=e=>{"href"in e&&l(0,n=e.href),"title"in e&&l(1,r=e.title),"text"in e&&l(4,s=e.text)},[n,r,i,o,s]}class ye extends t{constructor(e){super(),l(this,e,ke,be,n,{href:0,title:1,text:4})}}function Ee(e,t,l){const n=e.slice();return n[18]=t[l],n[20]=l,n}function xe(e,t,l){const n=e.slice();return n[18]=t[l],n[22]=l,n}function Se(e,t,l){const n=e.slice();return n[18]=t[l],n[24]=l,n}function qe(e){let t,l,n,r,i,a,u,m,g,k,y,E,A,I,j,K,R,D,T,V,U,z,O,H,G,W=e[5].replace(/_/g," ")+"",P=e[2]&&e[2].to!==e[1]&&Ae(e),Q=e[9].length>1&&Ie(e);return u=new B({props:{source:e[7],renderers:{heading:ie,link:ge,html:we,image:ye}}}),{c(){t=$("div"),l=$("h1"),n=f(W),r=L(),P&&P.c(),i=L(),Q&&Q.c(),a=L(),x(u.$$.fragment),m=L(),g=$("small"),k=f("This page was automatically generated from "),y=$("a"),E=f("the original wikipedia article"),I=f("; it is adapted under the "),j=$("a"),K=f("Creative Commons Attribution-ShareAlike 3.0 Unported License"),R=L(),D=$("a"),T=f("(CC-BY-SA)"),V=$("br"),U=f("\n                    static.wiki is a "),z=$("a"),O=f("proof-of-concept side project"),H=f("."),this.h()},l(e){t=v(e,"DIV",{class:!0});var s=w(t);l=v(s,"H1",{class:!0});var o=w(l);n=d(o,W),o.forEach(h),r=M(s),P&&P.l(s),i=M(s),Q&&Q.l(s),a=M(s),S(u.$$.fragment,s),m=M(s),g=v(s,"SMALL",{style:!0});var c=w(g);k=d(c,"This page was automatically generated from "),y=v(c,"A",{href:!0});var f=w(y);E=d(f,"the original wikipedia article"),f.forEach(h),I=d(c,"; it is adapted under the "),j=v(c,"A",{href:!0});var p=w(j);K=d(p,"Creative Commons Attribution-ShareAlike 3.0 Unported License"),p.forEach(h),R=M(c),D=v(c,"A",{href:!0});var $=w(D);T=d($,"(CC-BY-SA)"),$.forEach(h),V=v(c,"BR",{}),U=d(c,"\n                    static.wiki is a "),z=v(c,"A",{href:!0});var b=w(z);O=d(b,"proof-of-concept side project"),b.forEach(h),H=d(c,"."),c.forEach(h),s.forEach(h),this.h()},h(){b(l,"class","svelte-39il47"),b(y,"href",A="https://"+e[0]+".wikipedia.org/wiki/"+e[5]),b(j,"href","https://en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License"),b(D,"href","https://creativecommons.org/licenses/by-sa/3.0/"),b(z,"href","https://github.com/segfall/static-wiki"),C(g,"margin-top","4em"),C(g,"margin-bottom","1em"),C(g,"text-align","center"),C(g,"font-size","10px"),C(g,"color","gray"),C(g,"display","block"),b(t,"class","article")},m(e,o){s(e,t,o),N(t,l),N(l,n),N(t,r),P&&P.m(t,null),N(t,i),Q&&Q.m(t,null),N(t,a),q(u,t,null),N(t,m),N(t,g),N(g,k),N(g,y),N(y,E),N(g,I),N(g,j),N(j,K),N(g,R),N(g,D),N(D,T),N(g,V),N(g,U),N(g,z),N(z,O),N(g,H),G=!0},p(e,l){(!G||32&l)&&W!==(W=e[5].replace(/_/g," ")+"")&&p(n,W),e[2]&&e[2].to!==e[1]?P?P.p(e,l):(P=Ae(e),P.c(),P.m(t,i)):P&&(P.d(1),P=null),e[9].length>1?Q?Q.p(e,l):(Q=Ie(e),Q.c(),Q.m(t,a)):Q&&(Q.d(1),Q=null);const r={};128&l&&(r.source=e[7]),u.$set(r),(!G||33&l&&A!==(A="https://"+e[0]+".wikipedia.org/wiki/"+e[5]))&&b(y,"href",A)},i(e){G||(c(u.$$.fragment,e),G=!0)},o(e){o(u.$$.fragment,e),G=!1},d(e){e&&h(t),P&&P.d(),Q&&Q.d(),_(u)}}}function _e(e){let t,l;return{c(){t=$("div"),l=f(e[6]),this.h()},l(n){t=v(n,"DIV",{class:!0});var r=w(t);l=d(r,e[6]),r.forEach(h),this.h()},h(){b(t,"class","error svelte-39il47")},m(e,n){s(e,t,n),N(t,l)},p(e,t){64&t&&p(l,e[6])},i:m,o:m,d(e){e&&h(t)}}}function Ae(e){let t,l,n,r,i,o=e[2].from+"";return{c(){t=$("small"),l=$("em"),n=f('Redirected from "'),r=f(o),i=f('"'),this.h()},l(e){t=v(e,"SMALL",{id:!0,style:!0});var s=w(t);l=v(s,"EM",{});var a=w(l);n=d(a,'Redirected from "'),r=d(a,o),i=d(a,'"'),a.forEach(h),s.forEach(h),this.h()},h(){b(t,"id","redirect"),C(t,"margin-top","-8px"),C(t,"margin-bottom","10px"),C(t,"display","block")},m(e,o){s(e,t,o),N(t,l),N(l,n),N(l,r),N(l,i)},p(e,t){4&t&&o!==(o=e[2].from+"")&&p(r,o)},d(e){e&&h(t)}}}function Ie(e){let t,l,n,r,i,o=e[9],a=[];for(let s=0;s<o.length;s+=1)a[s]=je(Ee(e,o,s));return{c(){t=$("div"),l=$("nav"),n=$("strong"),r=f("Contents"),i=L();for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=v(e,"DIV",{});var s=w(t);l=v(s,"NAV",{class:!0});var o=w(l);n=v(o,"STRONG",{});var c=w(n);r=d(c,"Contents"),c.forEach(h),i=M(o);for(let t=0;t<a.length;t+=1)a[t].l(o);o.forEach(h),s.forEach(h),this.h()},h(){b(l,"class","svelte-39il47")},m(o,c){s(o,t,c),N(t,l),N(l,n),N(n,r),N(l,i);for(let e=0;e<a.length;e+=1)a[e].m(l,null);e[11](l)},p(e,t){if(512&t){let n;for(o=e[9],n=0;n<o.length;n+=1){const r=Ee(e,o,n);a[n]?a[n].p(r,t):(a[n]=je(r),a[n].c(),a[n].m(l,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=o.length}},d(l){l&&h(t),K(a,l),e[11](null)}}}function Be(e){let t,l=e[18].headings,n=[];for(let r=0;r<l.length;r+=1)n[r]=Ne(xe(e,l,r));return{c(){t=$("ul");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=v(e,"UL",{class:!0});var l=w(t);for(let t=0;t<n.length;t+=1)n[t].l(l);l.forEach(h),this.h()},h(){b(t,"class","svelte-39il47")},m(e,l){s(e,t,l);for(let r=0;r<n.length;r+=1)n[r].m(t,null)},p(e,r){if(512&r){let s;for(l=e[18].headings,s=0;s<l.length;s+=1){const i=xe(e,l,s);n[s]?n[s].p(i,r):(n[s]=Ne(i),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=l.length}},d(e){e&&h(t),K(n,e)}}}function Le(e){let t,l=e[18].headings,n=[];for(let r=0;r<l.length;r+=1)n[r]=Me(Se(e,l,r));return{c(){t=$("ul");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=v(e,"UL",{class:!0});var l=w(t);for(let t=0;t<n.length;t+=1)n[t].l(l);l.forEach(h),this.h()},h(){b(t,"class","svelte-39il47")},m(e,l){s(e,t,l);for(let r=0;r<n.length;r+=1)n[r].m(t,null)},p(e,r){if(512&r){let s;for(l=e[18].headings,s=0;s<l.length;s+=1){const i=Se(e,l,s);n[s]?n[s].p(i,r):(n[s]=Me(i),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=l.length}},d(e){e&&h(t),K(n,e)}}}function Me(e){let t,l,n,r,i,o,a,c,u,m,g,k=e[20]+1+"",y=e[22]+1+"",E=e[24]+1+"",x=e[18].name+"";return{c(){t=$("li"),l=f(k),n=f("."),r=f(y),i=f("."),o=f(E),a=L(),c=$("a"),u=f(x),g=L(),this.h()},l(e){t=v(e,"LI",{});var s=w(t);l=d(s,k),n=d(s,"."),r=d(s,y),i=d(s,"."),o=d(s,E),a=M(s),c=v(s,"A",{href:!0,class:!0});var f=w(c);u=d(f,x),f.forEach(h),g=M(s),s.forEach(h),this.h()},h(){b(c,"href",m="#"+e[18].name.replace(/ /g,"_")),b(c,"class","svelte-39il47")},m(e,h){s(e,t,h),N(t,l),N(t,n),N(t,r),N(t,i),N(t,o),N(t,a),N(t,c),N(c,u),N(t,g)},p(e,t){512&t&&x!==(x=e[18].name+"")&&p(u,x),512&t&&m!==(m="#"+e[18].name.replace(/ /g,"_"))&&b(c,"href",m)},d(e){e&&h(t)}}}function Ne(e){let t,l,n,r,i,o,a,c,u,m,g=e[20]+1+"",k=e[22]+1+"",y=e[18].name+"",E=e[18].headings.length>0&&Le(e);return{c(){t=$("li"),l=f(g),n=f("."),r=f(k),i=L(),o=$("a"),a=f(y),u=L(),E&&E.c(),m=L(),this.h()},l(e){t=v(e,"LI",{});var s=w(t);l=d(s,g),n=d(s,"."),r=d(s,k),i=M(s),o=v(s,"A",{href:!0,class:!0});var c=w(o);a=d(c,y),c.forEach(h),u=M(s),E&&E.l(s),m=M(s),s.forEach(h),this.h()},h(){b(o,"href",c="#"+e[18].name.replace(/ /g,"_")),b(o,"class","svelte-39il47")},m(e,c){s(e,t,c),N(t,l),N(t,n),N(t,r),N(t,i),N(t,o),N(o,a),N(t,u),E&&E.m(t,null),N(t,m)},p(e,l){512&l&&y!==(y=e[18].name+"")&&p(a,y),512&l&&c!==(c="#"+e[18].name.replace(/ /g,"_"))&&b(o,"href",c),e[18].headings.length>0?E?E.p(e,l):(E=Le(e),E.c(),E.m(t,m)):E&&(E.d(1),E=null)},d(e){e&&h(t),E&&E.d()}}}function je(e){let t,l,n,r,i,o,a,c,u,m=e[20]+1+"",g=e[18].name+"",k=e[18].headings.length>0&&Be(e);return{c(){t=$("ul"),l=$("li"),n=f(m),r=L(),i=$("a"),o=f(g),c=L(),k&&k.c(),u=L(),this.h()},l(e){t=v(e,"UL",{class:!0});var s=w(t);l=v(s,"LI",{});var a=w(l);n=d(a,m),r=M(a),i=v(a,"A",{href:!0,class:!0});var f=w(i);o=d(f,g),f.forEach(h),c=M(a),k&&k.l(a),a.forEach(h),u=M(s),s.forEach(h),this.h()},h(){b(i,"href",a="#"+e[18].name.replace(/ /g,"_")),b(i,"class","svelte-39il47"),b(t,"class","svelte-39il47")},m(e,a){s(e,t,a),N(t,l),N(l,n),N(l,r),N(l,i),N(i,o),N(l,c),k&&k.m(l,null),N(t,u)},p(e,t){512&t&&g!==(g=e[18].name+"")&&p(o,g),512&t&&a!==(a="#"+e[18].name.replace(/ /g,"_"))&&b(i,"href",a),e[18].headings.length>0?k?k.p(e,t):(k=Be(e),k.c(),k.m(l,null)):k&&(k.d(1),k=null)},d(e){e&&h(t),k&&k.d()}}}function Ce(e){let t,l,n,r,u,f,d;const p=[_e,qe],m=[];function g(e,t){return e[6]?0:void 0!==e[7]?1:-1}return~(u=g(e))&&(f=m[u]=p[u](e)),{c(){t=$("main"),l=$("img"),r=L(),f&&f.c(),this.h()},l(e){t=v(e,"MAIN",{class:!0});var n=w(t);l=v(n,"IMG",{src:!0,id:!0,style:!0}),r=M(n),f&&f.l(n),n.forEach(h),this.h()},h(){l.src!==(n="/spinner.gif")&&b(l,"src","/spinner.gif"),b(l,"id","spinner"),C(l,"float","none"),C(l,"margin","auto"),C(l,"margin-top","60px"),C(l,"display",e[8]&&void 0===e[7]?"block":"none"),b(t,"class","svelte-39il47")},m(n,i){s(n,t,i),N(t,l),N(t,r),~u&&m[u].m(t,null),e[12](t),d=!0},p(e,[n]){(!d||384&n)&&C(l,"display",e[8]&&void 0===e[7]?"block":"none");let r=u;u=g(e),u===r?~u&&m[u].p(e,n):(f&&(i(),o(m[r],1,1,(()=>{m[r]=null})),a()),~u?(f=m[u],f?f.p(e,n):(f=m[u]=p[u](e),f.c()),c(f,1),f.m(t,null)):f=null)},i(e){d||(c(f),d=!0)},o(e){o(f),d=!1},d(l){l&&h(t),~u&&m[u].d(),e[12](null)}}}function Ke(e,t,l){let n,r,s,i,o,{worker:a}=t,{name:c=""}=t,{dbKey:h=""}=t,f=!1,d=!1,p=[];let m=!1;const g=async e=>{if(document.title=l(5,s=e[0].values[0][0]),c.split("_").join(" ")!==s){const e=s.split(" ").join("_");m=!0,R(e,{replace:!0})}console.log("rendering"),l(7,o=e[0].values[0][1]),l(9,p=(()=>{let e=[];try{for(let t of o.split("\n"))t=t.trim(),"#"===t[0]&&"#"===t[1]&&("#"!==t[2]?e.push({name:t.replace(/#/g,"").trim(),headings:[]}):"#"!==t[3]?e.slice(-1)[0].headings.push({name:t.replace(/#/g,"").trim(),headings:[]}):e.slice(-1)[0].headings.slice(-1)[0].headings.push({name:t.replace(/#/g,"").trim()}))}catch(t){}return e})()),await D();const t=document.getElementById(decodeURI(window.location.hash.replace("#",""))),i=document.getElementById("info-image");if(i){let e=document.createElement("tbody");e.innerHTML='<tr><td colspan="2" style="text-align: center"></td></tr>',e.getElementsByTagName("td")[0].appendChild(i),document.getElementsByTagName("table")[0].prepend(e)}if(document.body.clientWidth<500){let e=r.querySelector("p"),l=r.querySelector("h1"),n=r.querySelector("#redirect");e.parentElement.prepend(e),n&&e.parentElement.prepend(n),e.parentElement.prepend(l),[...document.getElementsByTagName("h2")].forEach((e=>{e!==t&&e.click()}))}let a=r.querySelector("h2");a&&n&&a.parentNode.insertBefore(n,a),t&&t.scrollIntoView(!0)},$=function(e){console.log(e),l(8,d=!1);let t=c.split("_").join(" ");if(!e||!e[0]||!e[0].values[0])return l(6,i=`"${t}" could not be found in ${F[h].name}`),void(document.title="404 not found");const n=!e[0].values[0][1]&&e[0].values[0][2];return n?(console.log("redirecting to...",n),l(2,f={from:t,to:n}),void R("/"+h+"/"+n.split(" ").join("_"),{replace:!0})):g(e)};return e.$$set=e=>{"worker"in e&&l(10,a=e.worker),"name"in e&&l(1,c=e.name),"dbKey"in e&&l(0,h=e.dbKey)},e.$$.update=()=>{var t;3&e.$$.dirty&&void 0!==c&&(l(0,h=h),t=c,m?m=!1:(l(8,d=!0),l(7,o=void 0),l(6,i=!1),l(5,s=c.split("_").join(" ")),console.log("kicking off worker",t),f&&f.to!==s&&(console.log(f,s),l(2,f=null)),window.scrollTo(0,0),a.db.exec("select * from wiki_articles where title = ?",[s]).then($)))},[h,c,f,n,r,s,i,o,d,p,a,function(e){u[e?"unshift":"push"]((()=>{n=e,l(3,n)}))},function(e){u[e?"unshift":"push"]((()=>{r=e,l(4,r)}))}]}class Re extends t{constructor(e){super(),l(this,e,Ke,Ce,n,{worker:10,name:1,dbKey:0})}}function De(e,t,l){const n=e.slice();return n[6]=t[l],n}function Te(e,t,l){const n=e.slice();return n[9]=t[l],n}function Ve(e){let t,l;return{c(){t=$("img"),this.h()},l(e){t=v(e,"IMG",{src:!0,style:!0}),this.h()},h(){t.src!==(l="/book.gif")&&b(t,"src","/book.gif"),C(t,"margin","auto"),C(t,"margin-top","60px"),C(t,"opacity",".5"),C(t,"float","none"),C(t,"display",e[2]?"block":"none")},m(e,l){s(e,t,l)},p(e,l){4&l&&C(t,"display",e[2]?"block":"none")},i:m,o:m,d(e){e&&h(t)}}}function Ue(e){let t,l,n,r=0===e[1].length&&!e[2]&&ze(e),u=e[1],f=[];for(let s=0;s<u.length;s+=1)f[s]=Ge(De(e,u,s));const d=e=>o(f[e],1,1,(()=>{f[e]=null}));return{c(){r&&r.c(),t=L(),l=$("div");for(let e=0;e<f.length;e+=1)f[e].c();this.h()},l(e){r&&r.l(e),t=M(e),l=v(e,"DIV",{class:!0,style:!0});var n=w(l);for(let t=0;t<f.length;t+=1)f[t].l(n);n.forEach(h),this.h()},h(){b(l,"class","results svelte-fv8agu"),C(l,"opacity",e[2]?.5:1)},m(e,i){r&&r.m(e,i),s(e,t,i),s(e,l,i);for(let t=0;t<f.length;t+=1)f[t].m(l,null);n=!0},p(e,s){if(0!==e[1].length||e[2]?r&&(r.d(1),r=null):r?r.p(e,s):(r=ze(e),r.c(),r.m(t.parentNode,t)),3&s){let t;for(u=e[1],t=0;t<u.length;t+=1){const n=De(e,u,t);f[t]?(f[t].p(n,s),c(f[t],1)):(f[t]=Ge(n),f[t].c(),c(f[t],1),f[t].m(l,null))}for(i(),t=u.length;t<f.length;t+=1)d(t);a()}(!n||4&s)&&C(l,"opacity",e[2]?.5:1)},i(e){if(!n){for(let e=0;e<u.length;e+=1)c(f[e]);n=!0}},o(e){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)o(f[t]);n=!1},d(e){r&&r.d(e),e&&h(t),e&&h(l),K(f,e)}}}function ze(e){let t,l,n,r=F[e[0]].articleSearchIndex?"":`Full-text search has been disabled for ${F[e[0]].name}.`;return{c(){t=$("div"),l=f("No results. "),n=f(r),this.h()},l(e){t=v(e,"DIV",{class:!0,style:!0});var s=w(t);l=d(s,"No results. "),n=d(s,r),s.forEach(h),this.h()},h(){b(t,"class","arial"),C(t,"margin-top","30px"),C(t,"color","gray")},m(e,r){s(e,t,r),N(t,l),N(t,n)},p(e,t){1&t&&r!==(r=F[e[0]].articleSearchIndex?"":`Full-text search has been disabled for ${F[e[0]].name}.`)&&p(n,r)},d(e){e&&h(t)}}}function Oe(e){let t,l,n=e[6].title+"";return{c(){t=$("h4"),l=f(n)},l(e){t=v(e,"H4",{});var r=w(t);l=d(r,n),r.forEach(h)},m(e,n){s(e,t,n),N(t,l)},p(e,t){2&t&&n!==(n=e[6].title+"")&&p(l,n)},d(e){e&&h(t)}}}function He(e,t){let l,n,r=t[9].text+"";return{key:e,first:null,c(){l=$("span"),n=f(r),this.h()},l(e){l=v(e,"SPAN",{class:!0});var t=w(l);n=d(t,r),t.forEach(h),this.h()},h(){b(l,"class","svelte-fv8agu"),U(l,"highlight",t[9].match),this.first=l},m(e,t){s(e,l,t),N(l,n)},p(e,s){t=e,2&s&&r!==(r=t[9].text+"")&&p(n,r),2&s&&U(l,"highlight",t[9].match)},d(e){e&&h(l)}}}function Ge(e){let t,l,n,r,i,a,u=[],f=new Map;l=new E({props:{to:"/"+e[0]+"/"+e[6].title.split(" ").join("_"),$$slots:{default:[Oe]},$$scope:{ctx:e}}});let d=e[6].text;const p=e=>e[9].key;for(let s=0;s<d.length;s+=1){let t=Te(e,d,s),l=p(t);f.set(l,u[s]=He(l,t))}return{c(){t=$("div"),x(l.$$.fragment),n=L(),r=$("div");for(let e=0;e<u.length;e+=1)u[e].c();i=L(),this.h()},l(e){t=v(e,"DIV",{class:!0});var s=w(t);S(l.$$.fragment,s),n=M(s),r=v(s,"DIV",{class:!0});var o=w(r);for(let t=0;t<u.length;t+=1)u[t].l(o);o.forEach(h),i=M(s),s.forEach(h),this.h()},h(){b(r,"class","text svelte-fv8agu"),b(t,"class","result")},m(e,o){s(e,t,o),q(l,t,null),N(t,n),N(t,r);for(let t=0;t<u.length;t+=1)u[t].m(r,null);N(t,i),a=!0},p(e,t){const n={};3&t&&(n.to="/"+e[0]+"/"+e[6].title.split(" ").join("_")),4098&t&&(n.$$scope={dirty:t,ctx:e}),l.$set(n),2&t&&(d=e[6].text,u=V(u,t,p,1,e,d,f,r,z,He,null,Te))},i(e){a||(c(l.$$.fragment,e),a=!0)},o(e){o(l.$$.fragment,e),a=!1},d(e){e&&h(t),_(l);for(let t=0;t<u.length;t+=1)u[t].d()}}}function We(e){let t,l,n,u;const f=[Ue,Ve],d=[];function p(e,t){return void 0!==e[1]?0:1}return t=p(e),l=d[t]=f[t](e),{c(){l.c(),n=r()},l(e){l.l(e),n=r()},m(e,l){d[t].m(e,l),s(e,n,l),u=!0},p(e,[r]){let s=t;t=p(e),t===s?d[t].p(e,r):(i(),o(d[s],1,1,(()=>{d[s]=null})),a(),l=d[t],l?l.p(e,r):(l=d[t]=f[t](e),l.c()),c(l,1),l.m(n.parentNode,n))},i(e){u||(c(l),u=!0)},o(e){o(l),u=!1},d(e){d[t].d(e),e&&h(n)}}}function Pe(e,t,l){let n,{dbKey:r}=t,{worker:s}=t,{query:i}=t,o=!1;const a=e=>{l(2,o=!1),l(1,n=e[0]?e[0].values.map((e=>{let t="";try{t=T({text:e[1],query:i.split("+").join(" "),clipBy:20}),t=t.slice(0,80)}catch(l){console.error(l,e[1])}return{title:e[0],text:t}})):[])};return e.$$set=e=>{"dbKey"in e&&l(0,r=e.dbKey),"worker"in e&&l(3,s=e.worker),"query"in e&&l(4,i=e.query)},e.$$.update=()=>{24&e.$$.dirty&&(l(2,o=!0),document.title="Searching: "+i.split("+").join(" "),console.log(i),s.db.exec("select * from wiki_article_search where text match ? LIMIT 5",[i]).then(a))},[r,n,o,s,i]}class Qe extends t{constructor(e){super(),l(this,e,Pe,We,n,{dbKey:0,worker:3,query:4})}}function Je(e){let t,l,n,r,i,o,a,c,u,p,m,g,k,y;return{c(){t=f("read-only wikipedia using just static files."),l=$("br"),n=f("\n                2MB of CSS, JS, WASM; one 43GB SQLite file."),r=$("br"),i=f("\n                ⚠️ autocomplete is slow & eats 500kb+ per search"),o=$("br"),a=f("\n                check out "),c=$("a"),u=f("github repo"),p=f(" for details on this proof-of-concept or "),m=$("a"),g=f("download the SQLite db"),k=f(" directly"),y=$("br"),this.h()},l(e){t=d(e,"read-only wikipedia using just static files."),l=v(e,"BR",{}),n=d(e,"\n                2MB of CSS, JS, WASM; one 43GB SQLite file."),r=v(e,"BR",{}),i=d(e,"\n                ⚠️ autocomplete is slow & eats 500kb+ per search"),o=v(e,"BR",{}),a=d(e,"\n                check out "),c=v(e,"A",{href:!0,target:!0});var s=w(c);u=d(s,"github repo"),s.forEach(h),p=d(e," for details on this proof-of-concept or "),m=v(e,"A",{href:!0});var f=w(m);g=d(f,"download the SQLite db"),f.forEach(h),k=d(e," directly"),y=v(e,"BR",{}),this.h()},h(){b(c,"href","https://github.com/segfall/static-wiki"),b(c,"target","_blank"),b(m,"href","https://www.kaggle.com/segfall/markdownlike-wikipedia-dumps-in-sqlite")},m(e,h){s(e,t,h),s(e,l,h),s(e,n,h),s(e,r,h),s(e,i,h),s(e,o,h),s(e,a,h),s(e,c,h),N(c,u),s(e,p,h),s(e,m,h),N(m,g),s(e,k,h),s(e,y,h)},d(e){e&&h(t),e&&h(l),e&&h(n),e&&h(r),e&&h(i),e&&h(o),e&&h(a),e&&h(c),e&&h(p),e&&h(m),e&&h(k),e&&h(y)}}}function Fe(e){let t,l,n,r,i,o,a,c,u,p,m;return{c(){t=f("仅使用静态文件的只读维基百科。"),l=$("br"),n=f("\n                2MB 的 CSS、JS、WASM；一个 5.67GB 的 SQLite 文件。"),r=$("br"),i=f("\n                ⚠️ 自动完成很慢，每次搜索消耗 500kb+"),o=$("br"),a=f("\n                查看 "),c=$("a"),u=f("github 存储库"),p=f("，了解有关此概念验证的详细信息"),m=$("br"),this.h()},l(e){t=d(e,"仅使用静态文件的只读维基百科。"),l=v(e,"BR",{}),n=d(e,"\n                2MB 的 CSS、JS、WASM；一个 5.67GB 的 SQLite 文件。"),r=v(e,"BR",{}),i=d(e,"\n                ⚠️ 自动完成很慢，每次搜索消耗 500kb+"),o=v(e,"BR",{}),a=d(e,"\n                查看 "),c=v(e,"A",{href:!0,target:!0});var s=w(c);u=d(s,"github 存储库"),s.forEach(h),p=d(e,"，了解有关此概念验证的详细信息"),m=v(e,"BR",{}),this.h()},h(){b(c,"href","https://github.com/segfall/static-wiki"),b(c,"target","_blank")},m(e,h){s(e,t,h),s(e,l,h),s(e,n,h),s(e,r,h),s(e,i,h),s(e,o,h),s(e,a,h),s(e,c,h),N(c,u),s(e,p,h),s(e,m,h)},d(e){e&&h(t),e&&h(l),e&&h(n),e&&h(r),e&&h(i),e&&h(o),e&&h(a),e&&h(c),e&&h(p),e&&h(m)}}}function Ye(e){let t,l,n,r,i,o,a,c,u,p,m;return{c(){t=f("wikipedia en lecture seule utilisant uniquement des fichiers statiques."),l=$("br"),n=f("\n                2 Mo de CSS, JS, WASM ; un fichier SQLite de 14.77 Go."),r=$("br"),i=f("\n                ⚠️ la saisie semi-automatique est lente et consomme plus de 500 ko par recherche"),o=$("br"),a=f("\n                consultez le "),c=$("a"),u=f("repo github"),p=f(" pour plus de détails sur cette preuve de concept"),m=$("br"),this.h()},l(e){t=d(e,"wikipedia en lecture seule utilisant uniquement des fichiers statiques."),l=v(e,"BR",{}),n=d(e,"\n                2 Mo de CSS, JS, WASM ; un fichier SQLite de 14.77 Go."),r=v(e,"BR",{}),i=d(e,"\n                ⚠️ la saisie semi-automatique est lente et consomme plus de 500 ko par recherche"),o=v(e,"BR",{}),a=d(e,"\n                consultez le "),c=v(e,"A",{href:!0,target:!0});var s=w(c);u=d(s,"repo github"),s.forEach(h),p=d(e," pour plus de détails sur cette preuve de concept"),m=v(e,"BR",{}),this.h()},h(){b(c,"href","https://github.com/segfall/static-wiki"),b(c,"target","_blank")},m(e,h){s(e,t,h),s(e,l,h),s(e,n,h),s(e,r,h),s(e,i,h),s(e,o,h),s(e,a,h),s(e,c,h),N(c,u),s(e,p,h),s(e,m,h)},d(e){e&&h(t),e&&h(l),e&&h(n),e&&h(r),e&&h(i),e&&h(o),e&&h(a),e&&h(c),e&&h(p),e&&h(m)}}}function Xe(e){let t,l,n,r,i,o,a;return{c(){t=f("wikipedia with files, no backend. it's slow."),l=$("br"),n=f("\n                check out the "),r=$("a"),i=f("repo"),o=f(" for details"),a=$("br"),this.h()},l(e){t=d(e,"wikipedia with files, no backend. it's slow."),l=v(e,"BR",{}),n=d(e,"\n                check out the "),r=v(e,"A",{href:!0,target:!0});var s=w(r);i=d(s,"repo"),s.forEach(h),o=d(e," for details"),a=v(e,"BR",{}),this.h()},h(){b(r,"href","https://github.com/segfall/static-wiki"),b(r,"target","_blank")},m(e,c){s(e,t,c),s(e,l,c),s(e,n,c),s(e,r,c),N(r,i),s(e,o,c),s(e,a,c)},d(e){e&&h(t),e&&h(l),e&&h(n),e&&h(r),e&&h(o),e&&h(a)}}}function Ze(e){let t,l,n,r,i,o,a=(!e[0]||"en"===e[0])&&Je(),c="zh"===e[0]&&Fe(),u="fr"===e[0]&&Ye(),f="simple"===e[0]&&Xe();return{c(){t=$("div"),l=$("p"),n=$("small"),a&&a.c(),r=L(),c&&c.c(),i=L(),u&&u.c(),o=L(),f&&f.c(),this.h()},l(e){t=v(e,"DIV",{style:!0});var s=w(t);l=v(s,"P",{});var d=w(l);n=v(d,"SMALL",{});var p=w(n);a&&a.l(p),r=M(p),c&&c.l(p),i=M(p),u&&u.l(p),o=M(p),f&&f.l(p),p.forEach(h),d.forEach(h),s.forEach(h),this.h()},h(){C(t,"margin-top","20px")},m(e,h){s(e,t,h),N(t,l),N(l,n),a&&a.m(n,null),N(n,r),c&&c.m(n,null),N(n,i),u&&u.m(n,null),N(n,o),f&&f.m(n,null)},p(e,[t]){e[0]&&"en"!==e[0]?a&&(a.d(1),a=null):a||(a=Je(),a.c(),a.m(n,r)),"zh"===e[0]?c||(c=Fe(),c.c(),c.m(n,i)):c&&(c.d(1),c=null),"fr"===e[0]?u||(u=Ye(),u.c(),u.m(n,o)):u&&(u.d(1),u=null),"simple"===e[0]?f||(f=Xe(),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i:m,o:m,d(e){e&&h(t),a&&a.d(),c&&c.d(),u&&u.d(),f&&f.d()}}}function et(e,t,l){let{dbKey:n}=t;return e.$$set=e=>{"dbKey"in e&&l(0,n=e.dbKey)},[n]}class tt extends t{constructor(e){super(),l(this,e,et,Ze,n,{dbKey:0})}}function lt(e,t,l){const n=e.slice();return n[18]=t[l],n[20]=l,n}function nt(e,t,l){const n=e.slice();return n[21]=t[l],n}function rt(e){let t,l,n;return{c(){t=$("div"),this.h()},l(e){t=v(e,"DIV",{class:!0}),w(t).forEach(h),this.h()},h(){b(t,"class","modal svelte-bfgoqk")},m(r,i){s(r,t,i),l||(n=y(t,"click",e[11]),l=!0)},p:m,d(e){e&&h(t),l=!1,n()}}}function st(e){let t,l,n=!e[5]&&it(e);return{c(){n&&n.c(),t=r()},l(e){n&&n.l(e),t=r()},m(e,r){n&&n.m(e,r),s(e,t,r),l=!0},p(e,l){e[5]?n&&(i(),o(n,1,1,(()=>{n=null})),a()):n?(n.p(e,l),32&l&&c(n,1)):(n=it(e),n.c(),c(n,1),n.m(t.parentNode,t))},i(e){l||(c(n),l=!0)},o(e){o(n),l=!1},d(e){n&&n.d(e),e&&h(t)}}}function it(e){let t,l,n,r,u,p,m,g,k,E,x,S=e[0]&&!e[2]&&ot(e),q=e[3],_=[];for(let s=0;s<q.length;s+=1)_[s]=ht(lt(e,q,s));const A=e=>o(_[e],1,1,(()=>{_[e]=null}));return{c(){t=$("div"),S&&S.c(),l=L();for(let e=0;e<_.length;e+=1)_[e].c();n=L(),r=$("div"),u=$("em"),p=$("small"),m=f("(slowly) looking for other articles"),g=$("span"),this.h()},l(e){t=v(e,"DIV",{class:!0,style:!0});var s=w(t);S&&S.l(s),l=M(s);for(let t=0;t<_.length;t+=1)_[t].l(s);n=M(s),r=v(s,"DIV",{class:!0,style:!0});var i=w(r);u=v(i,"EM",{});var o=w(u);p=v(o,"SMALL",{});var a=w(p);m=d(a,"(slowly) looking for other articles"),g=v(a,"SPAN",{class:!0}),w(g).forEach(h),a.forEach(h),o.forEach(h),i.forEach(h),s.forEach(h),this.h()},h(){b(g,"class","loading svelte-bfgoqk"),b(r,"class","autocomplete-looking svelte-bfgoqk"),C(r,"display",e[2]?"block":"none"),b(t,"class","options svelte-bfgoqk"),C(t,"min-height",e[2]&&1===e[3].length?"60px":"30px")},m(i,o){s(i,t,o),S&&S.m(t,null),N(t,l);for(let e=0;e<_.length;e+=1)_[e].m(t,null);N(t,n),N(t,r),N(r,u),N(u,p),N(p,m),N(p,g),k=!0,E||(x=[y(r,"click",ft),y(t,"click",e[14])],E=!0)},p(e,s){if(e[0]&&!e[2]?S?S.p(e,s):(S=ot(e),S.c(),S.m(t,l)):S&&(S.d(1),S=null),24&s){let l;for(q=e[3],l=0;l<q.length;l+=1){const r=lt(e,q,l);_[l]?(_[l].p(r,s),c(_[l],1)):(_[l]=ht(r),_[l].c(),c(_[l],1),_[l].m(t,n))}for(i(),l=q.length;l<_.length;l+=1)A(l);a()}(!k||4&s)&&C(r,"display",e[2]?"block":"none"),(!k||12&s)&&C(t,"min-height",e[2]&&1===e[3].length?"60px":"30px")},i(e){if(!k){for(let e=0;e<q.length;e+=1)c(_[e]);k=!0}},o(e){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)o(_[t]);k=!1},d(e){e&&h(t),S&&S.d(),K(_,e),E=!1,O(x)}}}function ot(e){let t,l;return{c(){t=$("div"),l=f(e[0]),this.h()},l(n){t=v(n,"DIV",{class:!0});var r=w(t);l=d(r,e[0]),r.forEach(h),this.h()},h(){b(t,"class","error svelte-bfgoqk")},m(e,n){s(e,t,n),N(t,l)},p(e,t){1&t&&p(l,e[0])},d(e){e&&h(t)}}}function at(e,t){let l,n,r=t[21].text+"";return{key:e,first:null,c(){l=$("span"),n=f(r),this.h()},l(e){l=v(e,"SPAN",{class:!0});var t=w(l);n=d(t,r),t.forEach(h),this.h()},h(){b(l,"class","svelte-bfgoqk"),U(l,"highlight",t[21].match),this.first=l},m(e,t){s(e,l,t),N(l,n)},p(e,s){t=e,8&s&&r!==(r=t[21].text+"")&&p(n,r),8&s&&U(l,"highlight",t[21].match)},d(e){e&&h(l)}}}function ct(e){let t,l=[],n=new Map,i=e[18].label;const o=e=>e[21].key;for(let r=0;r<i.length;r+=1){let t=nt(e,i,r),s=o(t);n.set(s,l[r]=at(s,t))}return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=r()},l(e){for(let t=0;t<l.length;t+=1)l[t].l(e);t=r()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);s(e,t,n)},p(e,r){8&r&&(i=e[18].label,l=V(l,r,o,1,e,i,n,t.parentNode,z,at,t,nt))},d(e){for(let t=0;t<l.length;t+=1)l[t].d(e);e&&h(t)}}}function ht(e){let t,l,n,r,i;function a(){return e[13](e[20])}return l=new E({props:{to:e[18].link,$$slots:{default:[ct]},$$scope:{ctx:e}}}),{c(){t=$("div"),x(l.$$.fragment),this.h()},l(e){t=v(e,"DIV",{class:!0,style:!0});var n=w(t);S(l.$$.fragment,n),n.forEach(h),this.h()},h(){b(t,"class","option svelte-bfgoqk"),C(t,"font-style",e[18].italic?"italic":""),U(t,"selected",e[4]===e[20])},m(e,o){s(e,t,o),q(l,t,null),n=!0,r||(i=y(t,"mouseenter",a),r=!0)},p(r,s){e=r;const i={};8&s&&(i.to=e[18].link),16777224&s&&(i.$$scope={dirty:s,ctx:e}),l.$set(i),(!n||8&s)&&C(t,"font-style",e[18].italic?"italic":""),16&s&&U(t,"selected",e[4]===e[20])},i(e){n||(c(l.$$.fragment,e),n=!0)},o(e){o(l.$$.fragment,e),n=!1},d(e){e&&h(t),_(l),r=!1,i()}}}function ut(e){let t,l,n,r,u,f,d,p=(e[3].length>0||e[2])&&rt(e),m=(e[3].length>0||e[2]||e[0])&&st(e);return{c(){p&&p.c(),t=L(),l=$("div"),n=$("input"),r=L(),m&&m.c(),this.h()},l(e){p&&p.l(e),t=M(e),l=v(e,"DIV",{class:!0});var s=w(l);n=v(s,"INPUT",{type:!0,placeholder:!0,class:!0}),r=M(s),m&&m.l(s),s.forEach(h),this.h()},h(){b(n,"type","text"),b(n,"placeholder","search"),b(n,"class","svelte-bfgoqk"),b(l,"class","autocomplete svelte-bfgoqk")},m(i,o){p&&p.m(i,o),s(i,t,o),s(i,l,o),N(l,n),e[12](n),N(l,r),m&&m.m(l,null),u=!0,f||(d=[y(l,"keyup",e[8]),y(l,"keydown",e[6])],f=!0)},p(e,[n]){e[3].length>0||e[2]?p?p.p(e,n):(p=rt(e),p.c(),p.m(t.parentNode,t)):p&&(p.d(1),p=null),e[3].length>0||e[2]||e[0]?m?(m.p(e,n),13&n&&c(m,1)):(m=st(e),m.c(),c(m,1),m.m(l,null)):m&&(i(),o(m,1,1,(()=>{m=null})),a())},i(e){u||(c(m),u=!0)},o(e){o(m),u=!1},d(n){p&&p.d(n),n&&h(t),n&&h(l),e[12](null),m&&m.d(),f=!1,O(d)}}}const ft=e=>{e.preventDefault(),e.stopPropagation()};function dt(e,t,l){let n,r,{worker:s}=t,{dbKey:i}=t,o=0;H((()=>{window.location.pathname.includes("/search/")&&l(1,r.value=decodeURI(window.location.pathname.slice(window.location.pathname.lastIndexOf("/")+1)).replace(/\+/g," "),r)}));let a,c,h=!1,f=[],d=!1;const p=(e,t)=>{let l;const n=e[0]&&e[0].values;return l=n?n.map((e=>({label:T({text:e[0],query:t}),value:e[0],link:"/"+i+"/"+e[0].split(" ").join("_")}))).sort(((e,t)=>e.value.length-t.value.length)):[],l},m=()=>{h&&(o++,l(2,h=!1),l(0,n=null),s.terminate())};document.addEventListener("sticky-change",(e=>{const t=e.detail.stuck;r.classList.toggle("shadow",t)}));return e.$$set=e=>{"worker"in e&&l(9,s=e.worker),"dbKey"in e&&l(10,i=e.dbKey)},[n,r,h,f,a,d,e=>{if("ArrowDown"===e.key){l(4,a=a+1>=f.length?0:a+1);let{value:t}=f[a]||{};t&&(e.target.value=t),e.preventDefault()}else if("ArrowUp"===e.key){l(4,a=a-1<0?f.length-1:a-1);let{value:t}=f[a]||{};t&&(e.target.value=t),e.preventDefault()}else"Escape"===e.key&&l(3,f=[])},m,e=>{if("ArrowDown"===e.key||"ArrowUp"===e.key||"ArrowRight"===e.key||"ArrowLeft"===e.key||"Escape"===e.key)return;let t=e.target.value;if(t.length>0&&(clearTimeout(c),c=setTimeout((async()=>{let e;l(3,f=[]),l(2,h=!0),l(5,d=!0);let r=o;console.log(t.split(/\s/g,"%"));try{e=await s.db.exec("select title from wiki_articles where title = ? limit 1",[t]),l(3,f=p(e,t)),l(4,a=-1),l(5,d=!1),e=await s.db.exec("select title from wiki_title_search where search_title LIKE ? limit 4",[t.split(/\s/g).join("%").replace(/\s/g,"").replace(/'/g,"").replace(/"/g,"").replace(/:/g,"").replace(/\(/g,"").replace(/\)/g,"")+"%"])}catch(u){throw h&&l(0,n=u),l(2,h=!1),n}if(l(0,n=!1),l(2,h=!1),o>r)return;o++;let c=p(e,t);f.length>0&&c[0].value===f[0].value?l(3,f=c):l(3,f=f.concat(c)),F[i].articleSearchIndex&&f.push({value:t,label:T({text:"Search for "+t,query:t}),link:"/"+i+"/search/"+t.split(" ").join("+"),italic:!0})}),500)),"Enter"!==e.key)return;l(0,n=!1),clearTimeout(c);let u=R,g=!1;if(h&&(g=!0,u=e=>{window.location.href=e}),m(),f[a])u(f[a].link),l(1,r.value="",r);else{if(g)return void(window.location.href="/"+i+"/"+r.value.split(" ").join("_"));s.db.exec("select * from wiki_articles where title = ? limit 1",[t]).then((e=>{l(1,r.value="",r);let n=e[0]&&(e[0].values[0][0]||e[0].values[0][1]);u(n?"/"+i+"/"+n.split(" ").join("_"):"/"+i+"/search/"+encodeURI(t).replace(/%20/g,"+"))}))}l(3,f=[])},s,i,()=>{l(3,f=[]),m()},function(e){u[e?"unshift":"push"]((()=>{r=e,l(1,r)}))},e=>{l(4,a=e)},e=>{l(3,f=[]);let t=e.target.href||e.target.parentElement.href;h&&t&&(document.getElementById("spinner").style.display="none",window.location.href=t),l(1,r.value="",r),m()}]}class pt extends t{constructor(e){super(),l(this,e,dt,ut,n,{worker:9,dbKey:10})}}function mt(e,t,l){const n=e.slice();return n[10]=t[l],n}function gt(e,t,l){const n=e.slice();return n[10]=t[l],n}function $t(e,t,l){const n=e.slice();return n[10]=t[l],n}function vt(e){let t,l,n,r,i=e[10][1].name+"";return{c(){t=$("option"),l=f(i),n=L(),this.h()},l(e){t=v(e,"OPTION",{});var r=w(t);l=d(r,i),n=M(r),r.forEach(h),this.h()},h(){t.__value=r=e[10][0],t.value=t.__value},m(e,r){s(e,t,r),N(t,l),N(t,n)},p:m,d(e){e&&h(t)}}}function wt(e){let t,l,n,r,i=e[10][1].name+"";return{c(){t=$("option"),l=f(i),n=L(),this.h()},l(e){t=v(e,"OPTION",{});var r=w(t);l=d(r,i),n=M(r),r.forEach(h),this.h()},h(){t.__value=r=e[10][0],t.value=t.__value},m(e,r){s(e,t,r),N(t,l),N(t,n)},p:m,d(e){e&&h(t)}}}function bt(e){let t,l;return t=new W({props:{path:e[10][0],component:tt,worker:e[2],dbKey:e[10][0]}}),{c(){x(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){q(t,e,n),l=!0},p:m,i(e){l||(c(t.$$.fragment,e),l=!0)},o(e){o(t.$$.fragment,e),l=!1},d(e){_(t,e)}}}function kt(e){let t,l,n,r,u,p,m,g,k,E,A,I,B,j,C,R,D,T,V,U,z,H,G,J,F,Y,X,Z,ee,te,le,ne,re=e[1],se=[];for(let s=0;s<re.length;s+=1)se[s]=vt($t(e,re,s));k=new pt({props:{worker:e[2],dbKey:e[0]}});let ie=e[1],oe=[];for(let s=0;s<ie.length;s+=1)oe[s]=wt(gt(e,ie,s));U=new pt({props:{worker:e[2],dbKey:e[0]}}),H=new W({props:{path:"",component:tt,worker:e[2],dbKey:e[0]}});let ae=e[1],ce=[];for(let s=0;s<ae.length;s+=1)ce[s]=bt(mt(e,ae,s));const he=e=>o(ce[e],1,1,(()=>{ce[e]=null}));return F=new W({props:{path:":dbKey/search/:query",component:Qe,worker:e[2]}}),X=new W({props:{path:":dbKey/*name",component:Re,worker:e[2]}}),{c(){t=$("select");for(let e=0;e<se.length;e+=1)se[e].c();l=L(),n=$("main"),r=$("div"),u=$("a"),p=f("static\n        wiki"),g=L(),x(k.$$.fragment),E=L(),A=$("select");for(let e=0;e<oe.length;e+=1)oe[e].c();I=L(),B=$("h1"),j=$("a"),C=f("static.wiki"),D=L(),T=$("div"),V=$("div"),x(U.$$.fragment),z=L(),x(H.$$.fragment),G=L();for(let e=0;e<ce.length;e+=1)ce[e].c();J=L(),x(F.$$.fragment),Y=L(),x(X.$$.fragment),Z=L(),ee=$("footer"),this.h()},l(e){t=v(e,"SELECT",{class:!0});var s=w(t);for(let t=0;t<se.length;t+=1)se[t].l(s);s.forEach(h),l=M(e),n=v(e,"MAIN",{class:!0});var i=w(n);r=v(i,"DIV",{class:!0});var o=w(r);u=v(o,"A",{href:!0,class:!0});var a=w(u);p=d(a,"static\n        wiki"),a.forEach(h),g=M(o),S(k.$$.fragment,o),E=M(o),A=v(o,"SELECT",{class:!0});var c=w(A);for(let t=0;t<oe.length;t+=1)oe[t].l(c);c.forEach(h),o.forEach(h),I=M(i),B=v(i,"H1",{class:!0});var f=w(B);j=v(f,"A",{href:!0});var m=w(j);C=d(m,"static.wiki"),m.forEach(h),f.forEach(h),D=M(i),T=v(i,"DIV",{class:!0});var $=w(T);V=v($,"DIV",{class:!0});var b=w(V);S(U.$$.fragment,b),b.forEach(h),z=M($),S(H.$$.fragment,$),G=M($);for(let t=0;t<ce.length;t+=1)ce[t].l($);J=M($),S(F.$$.fragment,$),Y=M($),S(X.$$.fragment,$),$.forEach(h),i.forEach(h),Z=M(e),ee=v(e,"FOOTER",{class:!0}),w(ee).forEach(h),this.h()},h(){b(t,"class","hide-on-mobile svelte-uo038q"),void 0===e[0]&&P((()=>e[4].call(t))),b(u,"href",m="en"===e[0]?"/":"/"+e[0]+"/"),b(u,"class","small-logo show-on-mobile svelte-uo038q"),b(A,"class","show-on-mobile svelte-uo038q"),void 0===e[0]&&P((()=>e[6].call(A))),b(r,"class","mobile-header show-on-mobile svelte-uo038q"),b(j,"href",R="en"===e[0]?"/":"/"+e[0]+"/"),b(B,"class","hide-on-mobile svelte-uo038q"),b(V,"class","hide-on-mobile svelte-uo038q"),b(T,"class","content svelte-uo038q"),b(n,"class","svelte-uo038q"),b(ee,"class","svelte-uo038q")},m(i,o){s(i,t,o);for(let e=0;e<se.length;e+=1)se[e].m(t,null);Q(t,e[0]),s(i,l,o),s(i,n,o),N(n,r),N(r,u),N(u,p),N(r,g),q(k,r,null),N(r,E),N(r,A);for(let e=0;e<oe.length;e+=1)oe[e].m(A,null);Q(A,e[0]),N(n,I),N(n,B),N(B,j),N(j,C),N(n,D),N(n,T),N(T,V),q(U,V,null),N(T,z),q(H,T,null),N(T,G);for(let e=0;e<ce.length;e+=1)ce[e].m(T,null);N(T,J),q(F,T,null),N(T,Y),q(X,T,null),s(i,Z,o),s(i,ee,o),te=!0,le||(ne=[y(t,"change",e[4]),y(t,"change",e[5]),y(A,"change",e[6]),y(A,"change",e[7])],le=!0)},p(e,l){if(2&l){let n;for(re=e[1],n=0;n<re.length;n+=1){const r=$t(e,re,n);se[n]?se[n].p(r,l):(se[n]=vt(r),se[n].c(),se[n].m(t,null))}for(;n<se.length;n+=1)se[n].d(1);se.length=re.length}3&l&&Q(t,e[0]),(!te||3&l&&m!==(m="en"===e[0]?"/":"/"+e[0]+"/"))&&b(u,"href",m);const n={};if(1&l&&(n.dbKey=e[0]),k.$set(n),2&l){let t;for(ie=e[1],t=0;t<ie.length;t+=1){const n=gt(e,ie,t);oe[t]?oe[t].p(n,l):(oe[t]=wt(n),oe[t].c(),oe[t].m(A,null))}for(;t<oe.length;t+=1)oe[t].d(1);oe.length=ie.length}3&l&&Q(A,e[0]),(!te||3&l&&R!==(R="en"===e[0]?"/":"/"+e[0]+"/"))&&b(j,"href",R);const r={};1&l&&(r.dbKey=e[0]),U.$set(r);const s={};if(1&l&&(s.dbKey=e[0]),H.$set(s),6&l){let t;for(ae=e[1],t=0;t<ae.length;t+=1){const n=mt(e,ae,t);ce[t]?(ce[t].p(n,l),c(ce[t],1)):(ce[t]=bt(n),ce[t].c(),c(ce[t],1),ce[t].m(T,J))}for(i(),t=ae.length;t<ce.length;t+=1)he(t);a()}},i(e){if(!te){c(k.$$.fragment,e),c(U.$$.fragment,e),c(H.$$.fragment,e);for(let e=0;e<ae.length;e+=1)c(ce[e]);c(F.$$.fragment,e),c(X.$$.fragment,e),te=!0}},o(e){o(k.$$.fragment,e),o(U.$$.fragment,e),o(H.$$.fragment,e),ce=ce.filter(Boolean);for(let t=0;t<ce.length;t+=1)o(ce[t]);o(F.$$.fragment,e),o(X.$$.fragment,e),te=!1},d(e){e&&h(t),K(se,e),e&&h(l),e&&h(n),_(k),K(oe,e),_(U),_(H),K(ce,e),_(F),_(X),e&&h(Z),e&&h(ee),le=!1,O(ne)}}}function yt(e){let t,l;return t=new G({props:{$$slots:{default:[kt]},$$scope:{ctx:e}}}),{c(){x(t.$$.fragment)},l(e){S(t.$$.fragment,e)},m(e,n){q(t,e,n),l=!0},p(e,[l]){const n={};131073&l&&(n.$$scope={dirty:l,ctx:e}),t.$set(n)},i(e){l||(c(t.$$.fragment,e),l=!0)},o(e){o(t.$$.fragment,e),l=!1},d(e){_(t,e)}}}function Et(t,l,n){let r=Object.entries(F),s=Object.fromEntries(r.map((e=>[e[0]]))),i=window.location.pathname.split("/")[1]||"en",o={terminate(){},db:{exec(){let e=window.location.pathname.split("/")[1],t=arguments,l=()=>s[i].db.exec(...t);return n(0,i=e in s?e:"en"),s[i]||(console.log("worker does not exist, so we need to start it"),n(3,s[i]=c(),s)),s[i].then?(console.log("worker is about to exist, so lets add this request on the queue"),n(3,s[i]=s[i].then(l),s),s[i]):l()}}};const a=()=>{let e=window.location.pathname.split("/")[1];if(e!==i&&(e||"en"!==i)){let e="/"+i+"/",t=window.location.pathname.split("/");t.length>2&&(e+=t.slice(-1)[0]),R(e)}console.log("Now using "+i)};async function c(){console.log("starting worker"),Object.values(s).filter((e=>e)).length>0&&(document.body.style.opacity=".5");let t=await async function(t="en"){const l=new URL("/sqlite.worker.js",window.location.origin),n=new URL("/sql-wasm.wasm",window.location.origin),r={from:"inline",config:{serverMode:"full",requestChunkSize:8192,url:window.location.origin.includes("localhost")?F[t].dev:F[t].production}};return await e.exports.createDbWorker([r],l.toString(),n.toString())}(i);document.body.style.opacity="1",console.log("called 2"),n(3,s[i]=t,s),window.databases=s,a()}H((()=>{document.title="static.wiki"}));return t.$$.update=()=>{9&t.$$.dirty&&(i in s||n(0,i="en"),s[i]?a():c())},[i,r,o,s,function(){i=J(this),n(0,i),n(3,s),n(1,r)},e=>{n(0,i=e.target.value)},function(){i=J(this),n(0,i),n(3,s),n(1,r)},e=>{n(0,i=e.target.value)}]}new class extends t{constructor(e){super(),l(this,e,Et,yt,n,{})}}({target:document.getElementById("app"),hydrate:!0});
